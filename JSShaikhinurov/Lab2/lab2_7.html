<html>
    <style>
        button{
            width: 50px;
            height: 50px;
        }
    </style>
    <title>Задание 7</title>
    <body align="center" style="background-color: red;">
        <meta charset = "UTF-8">

        <p><h1>Калькулятор</h1></p>

        <p>
            <table align="center">
                <tr>
                    <td><textarea cols="80" id="intext" style="border:lightblue; border-width:2px; border-style:solid; text-align: right;" readonly="readonly"></textarea></td>
                    <td><button onclick="delete_symbol();"><</button></td>
                    <td><button onclick="clear_symbols();">C</button></td>
                </tr>
            </table>
        </p>

        <p>
            <table border="1" align="center">
                <tr>
                    <td><button onclick="clicked(7);">7</button></td>
                    <td><button onclick="clicked(8);">8</button></td>
                    <td><button onclick="clicked(9);">9</button></td>
                    <td><button onclick="set_number_function(1);">*</td>
                </tr>
                <tr>
                    <td><button onclick="clicked(4);">4</button></td>
                    <td><button onclick="clicked(5);">5</button></td>
                    <td><button onclick="clicked(6);">6</button></td>
                    <td><button onclick="set_number_function(2);">/</button></td>
                </tr>
                <tr>
                    <td><button onclick="clicked(1);">1</button></td>
                    <td><button onclick="clicked(2);">2</button></td>
                    <td><button onclick="clicked(3);">3</button></td>
                    <td><button onclick="set_number_function(3);">-</button></td>
                </tr>
                <tr>
                    <td></td>
                    <td><button onclick="clicked(0);">0</button></td>
                    <td><button onclick="go_count(0);">=</button></td>
                    <td><button onclick="set_number_function(4);">+</button></td>
                </tr>
            </table>
        </p>

        <script language="JavaScript">
            var arg1 = 0.0;
            var arg2 = 0.0;

            var number_function = 0;

            var counted = false;

            function clicked(arg){
                document.getElementById("intext").innerHTML += arg;
            }

            function clear_symbols(){
                counted = false;
                document.getElementById("intext").innerHTML = "";
                number_function = 0;
            }

            function delete_symbol(){
                var text = document.getElementById("intext").innerHTML
                text = text.slice(0, -1);
                document.getElementById("intext").innerHTML = text;
            }

            function set_number_function(arg){
                counted = false;
                arg1 = parseFloat(document.getElementById("intext").innerHTML);
                document.getElementById("intext").innerHTML = "";
                number_function = arg;
            }

            function go_count(){
                if (!counted){
                    arg2 = parseFloat(document.getElementById("intext").innerHTML);
                    counted = true;
                }

                switch (number_function){
                    case 1: // умножение
                        arg1 *= arg2;
                        break;
                    case 2: // деление
                        arg1 /= arg2;
                        break;
                    case 3: // вычитание
                        arg1 -= arg2;
                        break;
                    case 4: // суммирование
                        arg1 += arg2;
                        break;
                    default: return;
                }

                document.getElementById("intext").innerHTML = arg1;
            }

        </script>
    </body>
</html>
